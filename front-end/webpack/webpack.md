# Webpack

> [(下篇)中高级前端大厂面试秘籍，寒冬中为您保驾护航，直通大厂](https://juejin.im/post/6844903830979608584)

## 原理

- **核心概念**：
  - `JavaScript`的**模块打包工具**(module bundler)。通过分析模块之间的依赖，最终将所有模块打包成一份或者多发代码包(bundler),供 html 直接引用。`Webpack` 提供了**打包功能**和**文件处理机制**，可以通过 `Loader` 和 `Plugin` 对代码进行**预编译**和**打包**。
    - **Entry**：入口文件，`Webpack`会从该文件开始进行分析。
    - **Output**：出口路径，打包创建 `bundler` 的文件路径以及文件名
    - **Module**：模块，会根据配置不同的 `Loader` 进行加载和打包
    - **Chunk**：代码块，可以根据配置，将所有模块代码合并成一个或多个代码块，以便按需加载，提高性能；
    - **Loader**： 模块加载器，各种文件类型的加载和转换
    - **Plugin**：拓展插件，可以通过 `Webpack` 相应的事件钩子，介入到打包过程中的任意环节，从而对代码按需修改；
- **工作流程**（加载-编译-输出）：
  - 1. 读取配置文件，按命令**初始化**配置参数，创建 `Compiler` 对象
  - 2. 调用插件的 `apply` 方法**挂载插件**监听，然后从入口文件开始执行编译；
  - 3. 按文件类型，调用相应的 `Loader` 对模块进行 **编译**，并在合适的时机点触发对应的事件，调用 `Plugin` 执行，最后再根据模块 **依赖查找** 到所依赖的模块，递归执行第三步
  - 4. 将编译后的所有代码包装成一个个代码块(`Chunk`)，并按依赖和配置确定 **输出内容**。
  - 5. 根据 `Output` 把文件内容一一写入到指定的文件夹中，完成整改过程
